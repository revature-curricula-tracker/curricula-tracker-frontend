<div class="weeks d- flex">
<div class="title_container">
  <h1>{{title}}</h1>
  <!--<button mat-raised-button class="edit-button" (click)=startEdit()>Edit</button>  H1 Title and an edit button-->
  <mat-slide-toggle (change)=startEdit()>Edit</mat-slide-toggle>
  <!-- Piechart -->
  <div   id="pie-chart">
    <canvas baseChart
            [data]="pieChartData"
            [labels]="pieChartLabels"
            [colors]="colors"
            chartType="pie"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
  </div>
</div>

<h4>Technologies:</h4><!-- Headline for tech list-->
<br>
<div class="example-button-row">
  <div *ngFor="let item of tech;index as i;" class="button-row">
    <button mat-raised-button id="java" class="tech-button" [style.background-color]=stringToColor(item.techName)>{{item.techName}}</button>
  </div>
</div>
<br>
<!--tech list-->

  <!-- div for styling/coding-->
  <table cdk-table id="data_table" [dataSource]="dataSource">
    <caption>Table of topics thoughout the weeks of the curriculum</caption>
    <ng-container cdkColumnDef="week">
      <th id="tech" cdk-header-cell *cdkHeaderCellDef> Weeks </th>
      <td cdk-cell *cdkCellDef="let week"> Week {{week.id}}: {{week.name}} </td>
    </ng-container>

    <div cdkDropListGroup>
      <ng-container cdkColumnDef="day1">
        <th id="day1" cdk-header-cell *cdkHeaderCellDef> Monday </th>
        <td cdk-cell *cdkCellDef="let week">
          <div cdkDropList [cdkDropListData]="week.days[0]" class="day_list" (cdkDropListDropped)="drop($event)">
            <div *ngIf="week.days[0].length==0; else elseBlock">
              &nbsp;
            </div>
            <ng-template #elseBlock>
              <div *ngFor="let item of week.days[0];index as i;" cdkDrag [cdkDragDisabled]="!this.editing">
                <button mat-raised-button class="topic-button"
                  [style.background-color]=stringToColor(item.topic.technology.techName)>{{item.topic.name}}</button>
              </div>
            </ng-template>
          </div>
        </td>
      </ng-container>

      <ng-container cdkColumnDef="day2">
        <th id="day2" cdk-header-cell *cdkHeaderCellDef> Tuesday </th>
        <td cdk-cell *cdkCellDef="let week">
          <div cdkDropList [cdkDropListData]="week.days[1]" class="day_list" (cdkDropListDropped)="drop($event)">
            <div *ngIf="week.days[1].length==0; else elseBlock">
              &nbsp;
            </div>
            <ng-template #elseBlock>
              <div *ngFor="let item of week.days[1];index as i;" cdkDrag [cdkDragDisabled]="!this.editing">
                <button mat-raised-button class="topic-button"
                  [style.background-color]=stringToColor(item.topic.technology.techName)>{{item.topic.name}}</button>
              </div>
            </ng-template>
          </div>
        </td>
      </ng-container>

      <ng-container cdkColumnDef="day3">
        <th id="day3" cdk-header-cell *cdkHeaderCellDef> Wednesday </th>
        <td cdk-cell *cdkCellDef="let week">
          <div cdkDropList [cdkDropListData]="week.days[2]" class="day_list" (cdkDropListDropped)="drop($event)">
            <div *ngIf="week.days[2].length==0; else elseBlock">
              &nbsp;
            </div>
            <ng-template #elseBlock>
              <div *ngFor="let item of week.days[2];index as i;" cdkDrag   [cdkDragDisabled]="!this.editing">
                <button mat-raised-button class="topic-button"
                  [style.background-color]=stringToColor(item.topic.technology.techName)>{{item.topic.name}}</button>
              </div>
            </ng-template>
          </div>
        </td>
      </ng-container>

      <ng-container cdkColumnDef="day4">
        <th id="day4" cdk-header-cell *cdkHeaderCellDef> Thursday </th>
        <td cdk-cell *cdkCellDef="let week">
          <div cdkDropList [cdkDropListData]="week.days[3]" class="day_list" (cdkDropListDropped)="drop($event)">
            <div *ngIf="week.days[3].length==0; else elseBlock">
              &nbsp;
            </div>
            <ng-template #elseBlock>
              <div *ngFor="let item of week.days[3];index as i;" cdkDrag [cdkDragDisabled]="!this.editing">
                <button mat-raised-button class="topic-button"
                  [style.background-color]=stringToColor(item.topic.technology.techName)>{{item.topic.name}}</button>
              </div>
            </ng-template>
          </div>
        </td>
      </ng-container>

      <ng-container cdkColumnDef="day5">
        <th id="day5" cdk-header-cell *cdkHeaderCellDef> Friday </th>
        <td cdk-cell *cdkCellDef="let week">
          <div cdkDropList [cdkDropListData]="week.days[4]" class="day_list" (cdkDropListDropped)="drop($event)">
            <div *ngIf="week.days[4].length==0; else elseBlock">
              &nbsp;
            </div>
            <ng-template #elseBlock>
              <div *ngFor="let item of week.days[4];index as i;" cdkDrag [cdkDragDisabled]="!this.editing">
                <button mat-raised-button class="topic-button"
                  [style.background-color]=stringToColor(item.topic.technology.techName)>{{item.topic.name}}</button>
              </div>
            </ng-template>
          </div>
        </td>

      </ng-container>
      <tr cdk-header-row *cdkHeaderRowDef="displayedColumns"></tr>
      <tr class="rowclass" cdk-row *cdkRowDef="let myRowData; columns: displayedColumns"></tr>
    </div>
  </table>
</div>